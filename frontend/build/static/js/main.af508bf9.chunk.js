(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{134:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),c=a(15),i=a.n(c),o=(a(134),a(36)),l=a(17),d=a(25),u=a(8),j=a(10),b=a(117),h=a(14),m=a.n(h),x=a(20),O=a(18),p=a.n(O),g="AUTH_ERROR",f="LOGIN_SUCCESS",y="LOGIN_FAIL",v="USER_LOADED",N="PLACE_ORDER_SUCCESS",C="PLACE_ORDER_FAIL",D="SET_ERROR",S="REMOVE_ERROR",T="ORDER_PLACED",A="ORDERS_LOADED",F="ORDERS_LOADED_FAILED",k="LOGOUT",w="SAVE_ORDERS",R="SET_LOADING",P="REMOVE_LOADING",B="SET_ORDERS",E="ADD_TOKEN",I="SET_TOKEN_LIST",L="SET_RESTAURANT_PARCEL",M="FAIL_PARCEL",G="SET_CUSTOMER_PARCEL",W="SET_ORDER_PARCEL",U=function(e){e?p.a.defaults.headers.common["x-auth-token"]=e:delete p.a.defaults.headers.common["x-auth-token"]},Q=function(){return function(e){e({type:R})}},H=function(){return function(e){e({type:P})}},z=function(e,t,a){return function(n){n({type:D,payload:{errorType:e,errorMsg:t,errorStatus:a}}),setTimeout((function(){n({type:S,payload:{errorType:"",errorMsg:"",errorStatus:""}})}),3e3)}},V=function(e){var t=e.id,a=e.table,n=e.CustomerName;return function(){var e=Object(x.a)(m.a.mark((function e(r){var s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json"}},c=JSON.stringify({id:t,table:a,CustomerName:n}),e.next=5,p.a.post("/api/restaurant",c,s);case 5:500===(i=e.sent).data.status?r(z("error","Please Check Details and Try Again",!0)):r({type:f,payload:i.data}),r(H()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:y}),r(H());case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Z=a(12),J=a(210),q=a(87),Y=a(195),K=a(211),X=a(212),_=a(218),$=a(194),ee=a.p+"static/media/logo.51baaaaa.png";var te=function(e){return Object(n.jsx)(J.a,{style:{width:"100%",height:"100%",backgroundColor:"white"},children:Object(n.jsxs)(J.a,{style:{position:"absolute",top:"40%",left:"40%"},children:[Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}}),Object(n.jsx)($.a,{style:{marginTop:10,width:50}})]})})};var ae=Object(Z.b)((function(e){return{auth:e.auth,errorHandler:e.errorHandler,loading:e.loading}}),{login:V})((function(e){var t=e.auth,a=e.login,r=e.errorHandler,c=e.loading,i=s.a.useState({CustomerName:"",id:"",table:""}),o=Object(j.a)(i,2),h=o[0],m=o[1],x=s.a.useState(!0),O=Object(j.a)(x,2),p=O[0],g=O[1],f=function(e){m(Object(u.a)(Object(u.a)({},h),{},Object(d.a)({},e.target.name,[e.target.value])))};return t.isAuthenticated?Object(n.jsx)(l.a,{to:"/restaurant"}):c?Object(n.jsx)(te,{}):Object(n.jsx)(J.a,{className:"LoginParent",children:Object(n.jsxs)(J.a,{textAlign:"center",children:[Object(n.jsx)(J.a,{style:{marginTop:10},children:Object(n.jsx)(q.a,{variant:"h4",children:"Serve My Table"})}),p?Object(n.jsx)(J.a,{className:"preview"}):Object(n.jsx)(b.a,{onScan:function(e){if(e){var t=e.split("?")[1].split("&"),n={id:t[0].split("=")[1],table:t[1].split("=")[1]};Q(),a(n)}},facingMode:"rear",onError:function(e){console.error(e)},delay:100,className:"preview",style:{position:"absolute",top:85,left:20,width:"88%",height:"60%",borderRadius:"10px"}}),Object(n.jsxs)(J.a,{textAlign:"center",style:{marginLeft:20,marginRight:20},children:[Object(n.jsx)(Y.a,{variant:"contained",style:{marginTop:20,backgroundColor:"#FFD31D"},fullWidth:!0,onClick:function(){g(!1)},disableElevation:!0,children:"Scan QR Code"}),Object(n.jsx)(q.a,{style:{marginTop:20,marginBottom:20},children:"OR"}),r.errorStatus&&Object(n.jsx)(X.a,{severity:r.errorType,children:r.errorMsg}),Object(n.jsx)(J.a,{children:Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"CustomerName",type:"text",placeholder:"Enter your Name ",onChange:f,value:h.CustomerName,required:!0})}),Object(n.jsx)(J.a,{style:{marginTop:10},children:Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"id",type:"tel",placeholder:"Enter Restaurant's Phone No.",onChange:f,value:h.id,required:!0})}),Object(n.jsx)(J.a,{style:{marginTop:10},children:Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",min:"0",name:"table",type:"number",placeholder:"Enter Restaurant's Table No.",onChange:f,value:h.table,required:!0})}),Object(n.jsx)(Y.a,{variant:"outlined",disableElevation:!0,style:{marginTop:10},color:"primary",onClick:function(e){e.preventDefault();var t={id:h.id[0],table:h.table[0],CustomerName:h.CustomerName[0]};Q(),a(t)},fullWidth:!0,children:"View Restaurant's Menu"})]})]})})})),ne=a(203),re=a(204),se=a(164),ce=a(116),ie=a(200),oe=a(205),le=a(214),de=a(196),ue=a(197),je=a(108),be=a.n(je);var he=function(e){var t=e.id,a=e.type,r=e.value,s=e.className,c=e.onChange,i=e.validate,o=e.placeholder,l=e.name,d=e.style;return Object(n.jsx)(J.a,{children:Object(n.jsx)(de.a,{id:t,name:l,type:a,style:d,value:r,validate:i,onChange:c,placeholder:o,className:s,startAdornment:Object(n.jsx)(ue.a,{position:"start",children:Object(n.jsx)(be.a,{})}),disableUnderline:!0,fullWidth:!0})})},me=a(78),xe=a.n(me),Oe=a(40),pe=a(216),ge=a(202),fe=a(198),ye=a(219),ve=a(109),Ne=a.n(ve),Ce=a(85),De=a.n(Ce),Se=a.p+"static/media/Veg.7e973bdd.svg",Te=a.p+"static/media/NonVeg.14e6c106.svg",Ae=a.p+"static/media/redchilly.cb45756a.png",Fe=a.p+"static/media/mediumchilly.0df9b8d3.png",ke=a.p+"static/media/candy.474d2363.png";var we=function(e){var t=s.a.useState(0),a=Object(j.a)(t,2),r=a[0],c=a[1];return s.a.useEffect((function(){e.cart.forEach((function(t){t.id===e.id&&c(t.units)}))}),[]),Object(n.jsxs)(J.a,{children:[Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,xs:9,sm:9,children:Object(n.jsxs)(J.a,{display:"flex",flexDirection:"row",justifyContent:"left",children:[Object(n.jsx)(J.a,{children:null!==e.ImageUrl&&Object(n.jsx)(_.a,{src:e.ImageUrl,style:{width:100,height:"auto"},variant:"rounded"})}),Object(n.jsxs)(J.a,{children:[Object(n.jsxs)(J.a,{flexDirection:"row",display:"flex",children:[Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Veg")?Object(n.jsx)(_.a,{src:Se,variant:"square",style:{width:15,height:15}}):null!==e.tags&&e.tags.includes("Non Veg")&&Object(n.jsx)(_.a,{src:Te,variant:"square",style:{width:15,height:15}})}),Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Must Try")&&Object(n.jsxs)(J.a,{display:"flex",flexDirection:"row",style:{marginLeft:10},children:[Object(n.jsx)(_.a,{variant:"square",src:"data:image/png;base64,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",style:{width:15,height:15}}),Object(n.jsx)(q.a,{style:{marginLeft:2,fontSize:12},className:"mFont",children:"Must Try"})]})})]}),Object(n.jsx)(q.a,{children:e.name}),Object(n.jsxs)(J.a,{flexDirection:"row",display:"flex",children:[Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Speciality")&&Object(n.jsx)(J.a,{children:Object(n.jsx)(J.a,{style:{border:"1px solid #FFD31D",borderRadius:5,backgroundColor:"#FFF",padding:2,paddingLeft:5,paddingRight:5},children:Object(n.jsx)(q.a,{style:{fontSize:12},className:"mFont",children:"Speciality"})})})}),Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Spicy")&&Object(n.jsx)(ye.a,{label:"Spicy",size:"small",avatar:Object(n.jsx)(_.a,{src:Ae}),variant:"outlined",style:{borderColor:"#FFF"}})}),Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Med. Spicy")&&Object(n.jsx)(ye.a,{label:"Med. Spicy",size:"small",variant:"outlined",avatar:Object(n.jsx)(_.a,{src:Fe}),style:{borderColor:"#FFF"}})}),Object(n.jsx)(J.a,{children:null!==e.tags&&e.tags.includes("Sweet")&&Object(n.jsx)(ye.a,{label:"Sweet",size:"small",variant:"outlined",avatar:Object(n.jsx)(_.a,{src:ke}),style:{borderColor:"white"}})})]}),Object(n.jsx)(q.a,{style:{fontSize:"small"},color:"textSecondary",children:null!==e.desc&&void 0!==e.desc&&e.desc}),Object(n.jsx)(q.a,{style:{fontSize:"medium"},children:Object(n.jsxs)("strong",{children:["Rs. ",e.price]})})]})]})}),Object(n.jsxs)(fe.a,{item:!0,xs:3,sm:3,children:[0!==r?Object(n.jsx)(se.a,{onClick:function(){c(0===r?0:r-1),e.handleAddFunc({name:e.name,price:e.price,units:r-1,type:0,id:e.id})},children:Object(n.jsx)(De.a,{})}):Object(n.jsx)(se.a,{children:Object(n.jsx)(De.a,{})}),r,Object(n.jsx)(se.a,{onClick:function(){c(r+1),e.handleAddFunc({name:e.name,price:e.price,units:r+1,type:0,id:e.id})},children:Object(n.jsx)(Ne.a,{})})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})},Re=a(201),Pe=function(e){var t=e.order;return function(e){e({type:w,payload:t})}},Be=function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/table/");case 3:a=e.sent,t({type:A,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:F});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ee=a(199),Ie=a(110),Le=a.n(Ie),Me=Object(Ee.a)((function(e){return{orderSummaryBtn:{position:"fixed",bottom:0,boxShadow:"3px 0 6px rgba(0,0,0,16%)",padding:10,backgroundColor:"#FFD31D"},mDivider:{height:5,width:30,marginTop:10,marginBottom:10,backgroundColor:"#FFD31D"},mGrid:{paddingLeft:10,paddingTop:10,paddingBottom:10,backgroundColor:"#FFD31D5F"},orderGrid:{paddingLeft:10,paddingTop:5,paddingBottom:5},bgPrimary:{backgroundColor:"#FFD31D",fontSize:18,marginTop:20,boxShadow:"0px 3px 6px rgba(0,0,0,0.16)",paddingLeft:100,paddingRight:100},OrderSummaryDetailsScreen:{position:"fixed",bottom:0,width:"100%",backgroundColor:"white",overflow:"hidden",overflowY:"hidden",borderTop:"1px solid #F0F0F0",paddingBottom:20},finalPageLink:{position:"fixed",bottom:50,paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,backgroundColor:"rgb(255,255,255)",width:"100%",boxShadow:"3px 0px 6px rgba(0,0,0,16%)"}}}));var Ge=Object(Z.b)((function(e){return{user:e.auth.user,orderPlaced:e.orderPlaced,table:e.table,previousOrders:e.previousOrders}}),{placeOrder:function(e){var t=e.Dish,a=e.CustomerName,n=e.TableNo,r=e.TotalBill,s=e.notes,c=e.id,i=e.SubTotal,o=e.PaymentMode;return function(){var e=Object(x.a)(m.a.mark((function e(l){var d,u,j,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d=localStorage.getItem("token"),u={headers:{"Content-Type":"application/json","x-auth-token":d}},j=JSON.stringify({Dish:t,CustomerName:a,TableNo:n,TotalBill:r,notes:s,id:c,SubTotal:i,PaymentMode:o}),e.next=6,p.a.post("/api/table/",j,u);case 6:b=e.sent,l({type:N,payload:b.data}),l(Pe({order:b.data})),l({type:T,payload:!0}),l(H()),l(z("success","Order Placed Successfully",!0)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),l({type:C}),l(H()),l(z("error","Unable to Place Order",!0));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},setLoading:Q})((function(e){var t=e.cart,a=e.user,r=e.placeOrder,c=e.orderPlaced,i=e.setLoading,d=e.table,u=e.previousOrders,b=Me(),h=s.a.useState(!1),m=Object(j.a)(h,2),x=m[0],O=m[1];function p(){for(var e=0,a=0;a<t.length;a++)e+=t[a].price*t[a].units;return e}function g(){var e=[];if(null===a.Taxes&&void 0===a.Taxes||(e=a.Taxes),e.length>0){for(var t=0,n=p(),r=0;r<e.length;r++)"Percentage"===e[r].TaxType&&(t+=n*Number.parseFloat(e[r].Amount)/100),"Fixed"===e[r].TaxType&&(t+=Number.parseFloat(e[r].Amount));return t}return 0}function f(){var e={Dish:t,CustomerName:null!==a.CustomerName&&void 0!==a.CustomerName?a.CustomerName:"",TableNo:a.TableNo,TotalBill:p()+g(),notes:"",id:a.Phone,SubTotal:p(),PaymentMode:"Cash"};i(),r(e)}return c?Object(n.jsx)(l.a,{to:"/Checkout"}):x?Object(n.jsxs)(J.a,{className:b.OrderSummaryDetailsScreen,children:[Object(n.jsxs)(J.a,{display:"flex",flexDirection:"row",children:[Object(n.jsx)(se.a,{onClick:function(){return O(!1)},children:Object(n.jsx)(Le.a,{style:{color:"black"}})}),Object(n.jsx)(q.a,{variant:"h6",style:{color:"black",marginTop:8},children:"Order Summary"})]}),Object(n.jsxs)(J.a,{style:{marginTop:5},children:[Object(n.jsxs)(fe.a,{container:!0,className:b.mGrid,children:[Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:"Dish Name"}),Object(n.jsx)(fe.a,{item:!0,sm:2,xs:2,className:"mFont",children:"Qty."}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:"Price"})]}),Object(n.jsx)("br",{}),t.map((function(e){return 0!==e.units?Object(n.jsxs)(fe.a,{container:!0,className:b.orderGrid,children:[Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:e.name}),Object(n.jsxs)(fe.a,{item:!0,sm:2,xs:2,className:"mFont",children:["x",e.units]}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:e.units*e.price})]}):Object(n.jsx)("div",{})})),Object(n.jsx)(ie.a,{}),Object(n.jsxs)(J.a,{className:b.orderGrid,children:[Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Sub Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:p()})})]}),Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Taxes & Charges"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:g()})})]}),Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:Object(n.jsxs)("strong",{children:[" ",p()+g()," "]})})})]})]}),p()>0&&Object(n.jsx)(J.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center",children:Object(n.jsx)(Y.a,{onClick:f,className:b.bgPrimary,children:"Place Order"})})]})]}):Object(n.jsxs)(J.a,{children:[(d.length>0||u.length>0)&&Object(n.jsxs)(fe.a,{container:!0,className:b.finalPageLink,children:[Object(n.jsx)(fe.a,{item:!0,xs:8,sm:8,children:Object(n.jsx)(q.a,{style:{fontSize:"small"},children:"Checkout Placed Orders"})}),Object(n.jsx)(fe.a,{item:!0,xs:4,sm:4,children:Object(n.jsx)(J.a,{textAlign:"right",children:Object(n.jsx)(o.b,{to:"/Checkout",style:{color:"#000000",textDecoration:"none"},children:Object(n.jsx)(q.a,{style:{fontSize:"small"},children:"VIEW MORE"})})})})]}),Object(n.jsx)(Y.a,{className:b.orderSummaryBtn,onClick:function(){return O(!0)},fullWidth:!0,disabled:!(t.length>0),children:Object(n.jsx)(Re.a,{badgeContent:t.length,color:"secondary",children:Object(n.jsx)(q.a,{variant:"h6",children:"Order Summary"})})})]})})),We=a(55),Ue=a.n(We);var Qe=Object(Z.b)((function(e){return{Dishes:e.auth.user.dishes,Categories:e.auth.user.Categories}}),{})((function(e){var t=e.Dishes,a=e.Categories,r=e.search,c=e.filteredCategories,i=e.checkedVeg,o=s.a.useState([]),l=Object(j.a)(o,2),d=l[0],u=l[1];function b(e){if(d.length<=0)u([e]);else{for(var t=0,a=0;a<d.length;a++)if(t++,d[a].name===e.name){d[a].units=e.units,u(Object(Oe.a)(d)),t=0;break}t===d.length&&u([].concat(Object(Oe.a)(d),[e]))}}function h(){if(!(c.length<=0))return c;if(""!==r){for(var e=[],n=0;n<t.length;n++)t[n].DishName.indexOf(r)>-1&&e.push(t[n].Category);return e.filter((function(t,a){return e.indexOf(t)===a}))}return null!==a&&void 0!==a?a.filter((function(e,t){return a.indexOf(e)===t})):void 0}function m(e){for(var a=[],s=0;s<t.length;s++)t[s].tags[0].includes("Veg")&&t[s].Category===e&&t[s].DishName.indexOf(r)>-1&&a.push(Object(n.jsxs)(J.a,{style:{marginLeft:20},children:[Object(n.jsx)(we,{name:t[s].DishName,price:t[s].Price,tags:t[s].tags[0],desc:t[s].Description,ImageUrl:t[s].ImageUrl?t[s].ImageUrl:null,handleAddFunc:b,id:s,cart:d}),Object(n.jsx)(ie.a,{style:{marginBottom:10}})]}));return a}function x(e){for(var a=[],s=0;s<t.length;s++)t[s].Category===e&&t[s].DishName.indexOf(r)>-1&&a.push(Object(n.jsxs)(J.a,{style:{marginLeft:20},children:[Object(n.jsx)(we,{name:t[s].DishName,price:t[s].Price,tags:t[s].tags[0],desc:t[s].Description,ImageUrl:t[s].ImageUrl?t[s].ImageUrl:null,handleAddFunc:b,id:s,cart:d}),Object(n.jsx)(ie.a,{style:{marginBottom:10}})]}));return a}return h().length<=0?Object(n.jsx)(J.a,{style:{textAlign:"center"},children:Object(n.jsx)(q.a,{children:"No Dish Available"})}):Object(n.jsxs)(J.a,{style:{marginTop:10},children:[h().map((function(e){return Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(ge.a,{expandIcon:Object(n.jsx)(Ue.a,{}),children:Object(n.jsx)(q.a,{children:e})}),i?m(e):x(e)]})})),Object(n.jsx)(J.a,{children:Object(n.jsx)(Ge,{cart:function(){for(var e=[],t=0;t<d.length;t++)0!==d[t].units&&e.push(d[t]);return e}()})})]})})),He=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},alignCenter:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center"},alignSpaceBetween:{display:"flex",flexDirection:"row",justifyContent:"space-between"},MENUCARDHEADING:{letterSpacing:2,marginLeft:20,fontFamily:"Noto Sans, sans-serif"},TableHeading:{marginLeft:20,fontFamily:"Noto Sans, sans-serif",fontWeight:700,marginBottom:10}}}));var ze=Object(Z.b)((function(e){return{user:e.auth.user,loading:e.loading,errors:e.errorHandler}}),{getOrders:Be})((function(e){var t=e.user,a=e.getOrders,r=e.loading,c=e.errors,i=He(),o=s.a.useState(""),l=Object(j.a)(o,2),b=l[0],h=l[1],m=s.a.useState(null),x=Object(j.a)(m,2),O=x[0],p=x[1],g=s.a.useState({}),f=Object(j.a)(g,2),y=f[0],v=f[1],N=s.a.useState(!1),C=Object(j.a)(N,2),D=C[0],S=C[1],T=function(e){v(Object(u.a)(Object(u.a)({},y),{},Object(d.a)({},e.target.name,e.target.checked)))};return a(),r?Object(n.jsx)(te,{}):Object(n.jsxs)(J.a,{children:[Object(n.jsxs)(ne.a,{position:"fixed",style:{backgroundColor:"#FFF"},children:[Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:i.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:t.ImageUrl,variant:"rounded",style:{width:40}})}),Object(n.jsx)(q.a,{variant:"h6",className:i.title,children:t.name}),Object(n.jsx)(Y.a,{variant:"outlined",startIcon:Object(n.jsx)(xe.a,{}),"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},children:"Filter"})]}),Object(n.jsx)(he,{type:"text",placeholder:"Search in Menu",onChange:function(e){h(e.target.value)},style:{paddingLeft:10,paddingBottom:10}})]}),c.errorStatus&&Object(n.jsx)(X.a,{severity:c.errorType,children:c.errorMsg}),Object(n.jsx)(ce.a,{id:"simple-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:function(){p(null)},children:Object(n.jsxs)(J.a,{style:{margin:10,padding:10},children:[Object(n.jsx)(q.a,{children:"Categories"}),Object(n.jsx)(ie.a,{}),function(){if(null!==t.Categories&&void 0!==t.Categories)return t.Categories.filter((function(e,a){return t.Categories.indexOf(e)===a}))}().map((function(e){return Object(n.jsx)(oe.a,{control:Object(n.jsx)(le.a,{onChange:T,name:e,color:"primary"}),label:e})}))]})}),Object(n.jsxs)(J.a,{className:i.alignSpaceBetween,style:{marginTop:120},children:[Object(n.jsxs)(J.a,{children:[Object(n.jsxs)(q.a,{className:i.TableHeading,children:["Table No. ",t.TableNo]}),Object(n.jsx)(q.a,{className:i.MENUCARDHEADING,children:"MENU CARD"}),Object(n.jsx)(J.a,{style:{height:10,background:"#FFD31D",width:40,marginLeft:20}})]}),Object(n.jsx)(J.a,{children:Object(n.jsx)(oe.a,{control:Object(n.jsx)(le.a,{onChange:function(e){S(!D)},name:"Veg",color:"primary",checked:D}),label:"Veg"})})]}),Object(n.jsx)(Qe,{search:b,filteredCategories:function(){var e=[];for(var t in y)y[t]&&e.push(t);return e}(),checkedVeg:D})]})})),Ve=a(47),Ze=a(111),Je=a(112),qe={token:localStorage.getItem("token"),isAuthenticated:null,user:null};var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!0,user:n});case f:return localStorage.setItem("token",n.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),n),{},{isAuthenticated:!0});case k:case g:case y:return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{token:null,isAuthenticated:!1,user:null});default:return e}},Ke=[];var Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case A:return a;case N:return[].concat(Object(Oe.a)(e),[a]);case F:case C:default:return e}},_e={errorType:"",errorMsg:"",errorStatus:!1};var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D:return n;case S:return{errorType:"",errorMsg:"",errorStatus:!1};default:return e}};var et=function(){var e=arguments.length>1?arguments[1]:void 0,t=e.type,a=e.payload;switch(t){case T:return a;default:return!1}},tt=[];var at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w:return[].concat(Object(Oe.a)(e),[n]);case B:return n;default:return e}};var nt={tokenNo:null,Status:null,Restaurant:null,TokenDetails:null};var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;default:return e}},st={RestaurantDetails:null,CustomerDetails:null,OrderDetails:null};var ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case G:return Object(u.a)(Object(u.a)({},e),{},{CustomerDetails:n});case L:return Object(u.a)(Object(u.a)({},e),{},{RestaurantDetails:n});case W:return Object(u.a)(Object(u.a)({},e),{},{OrderDetails:n});case M:default:return e}},it=[];var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;default:return e}},lt=Object(Ve.combineReducers)({auth:Ye,table:Xe,token:rt,tokenList:ot,errorHandler:$e,orderPlaced:et,previousOrders:at,loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case R:return!0;case P:return!1;default:return e}},parcel:ct}),dt=[Je.a],ut=Object(Ve.createStore)(lt,{},Object(Ze.composeWithDevTools)(Ve.applyMiddleware.apply(void 0,dt))),jt=a(115),bt=a(209),ht=a(118),mt=Object(Z.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,r=Object(ht.a)(e,["component","auth"]);return Object(n.jsx)(l.b,Object(u.a)(Object(u.a)({},r),{},{render:function(e){return a.isAuthenticated?Object(n.jsx)(t,Object(u.a)({},e)):Object(n.jsx)(l.a,{to:"/"})}}))})),xt=a(217),Ot=a(206),pt=a(207),gt=a(208),ft=a(215),yt=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},container:{padding:20},bottomBox:{boxShadow:"0px 3px 6px rgba(0,0,0,16%)",padding:20,marginTop:10},buttonBox:{boxShadow:"0px 3px 6px rgba(0,0,0,16%)",padding:10,marginTop:10},checkoutBtn:{borderColor:"#FFD31D",border:"1px solid"}}}));var vt=Object(Z.b)((function(e){return{table:e.table,previousOrders:e.previousOrders,user:e.auth.user}}),{getOrders:Be,logout:function(){return function(e){e({type:k})}},setOrders:function(e){var t=e.allOrders;return function(e){e({type:B,payload:t})}}})((function(e){var t=e.getOrders,a=e.table,r=e.user,c=e.logout,i=e.previousOrders,d=e.setOrders,u=yt(),b=s.a.useState(!1),h=Object(j.a)(b,2),m=h[0],x=h[1],O=s.a.useState(3),g=Object(j.a)(O,2),f=g[0],y=g[1],v=s.a.useState(""),N=Object(j.a)(v,2),C=N[0],D=N[1];function S(){c(),l.a}function T(){for(var e=0,t=0;t<i.length;t++)e+=parseFloat(i[t].SubTotal);return e}return a.length>i.length&&d({allOrders:a}),t(),Object(n.jsxs)(J.a,{children:[Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:u.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:u.title,children:"Serve My Table"})]})}),Object(n.jsxs)(J.a,{className:u.container,children:[Object(n.jsxs)(J.a,{children:[Object(n.jsx)(q.a,{variant:"h6",children:"Hello!"}),Object(n.jsxs)(q.a,{color:"textSecondary",children:["Table No.",r.TableNo]}),Object(n.jsx)(q.a,{variant:"h6",style:{marginTop:20},children:r.name}),Object(n.jsx)(q.a,{color:"textSecondary",children:r.location})]}),Object(n.jsx)(ie.a,{style:{marginTop:10,marginBottom:10}}),Object(n.jsx)(J.a,{children:i.map((function(e){return Object(n.jsx)(J.a,{children:Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(ge.a,{expandIcon:Object(n.jsx)(Ue.a,{}),children:Object(n.jsxs)(q.a,{children:["Total Items :",e.Orders&&e.Orders.length]})}),Object(n.jsx)(J.a,{style:{padding:20},children:e.Orders.map((function(e){return Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsxs)(fe.a,{item:!0,sm:8,xs:8,children:[Object(n.jsx)(q.a,{children:e.DishName}),Object(n.jsxs)(q.a,{color:"textSecondary",children:[e.Quantity," x ",e.Rate]})]}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(J.a,{textAlign:"right",children:Object(n.jsx)(q.a,{children:parseFloat(e.Quantity)*parseFloat(e.Rate)})})})]})}))})]})})}))}),Object(n.jsx)(J.a,{className:u.bottomBox,children:Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsxs)(fe.a,{item:!0,sm:8,xs:8,children:[Object(n.jsx)(q.a,{children:"Sub Total"}),Object(n.jsx)(q.a,{children:"Taxes & Charges"})]}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsxs)(J.a,{textAlign:"right",children:[Object(n.jsx)(q.a,{children:T()}),Object(n.jsx)(q.a,{children:function(){var e=r.Taxes;if(e.length>0){for(var t=0,a=T(),n=0;n<e.length;n++)"Percentage"===e[n].TaxType&&(t+=a*Number.parseFloat(e[n].Amount)/100),"Fixed"===e[n].TaxType&&(t+=Number.parseFloat(e[n].Amount));return t}return 0}()})]})})]})}),Object(n.jsx)(J.a,{className:u.bottomBox,children:Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:8,xs:8,children:Object(n.jsx)(q.a,{children:"Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(J.a,{textAlign:"right",children:Object(n.jsxs)(q.a,{children:[" ",Object(n.jsxs)("strong",{children:[" ",function(){for(var e=0,t=0;t<i.length;t++)e+=parseFloat(i[t].TotalBill);return e}()," "]})]})})})]})}),Object(n.jsx)(o.b,{to:"/restaurant",style:{color:"#000000",textDecoration:"none"},children:Object(n.jsx)(J.a,{textAlign:"center",className:u.buttonBox,style:{backgroundColor:"#FFD31D"},children:Object(n.jsx)(q.a,{children:"ORDER MORE"})})}),Object(n.jsx)(J.a,{textAlign:"center",className:[u.buttonBox,u.checkoutBtn],onClick:function(){x(!0)},children:Object(n.jsx)(q.a,{children:"EXIT RESTAURANT"})}),Object(n.jsxs)(xt.a,{open:m,onClose:function(){x(!1)},children:[Object(n.jsx)(Ot.a,{children:"Review and Feedback"}),Object(n.jsxs)(pt.a,{children:[Object(n.jsx)(q.a,{style:{letterSpacing:2,marginTop:5},children:"RATINGS"}),Object(n.jsx)(J.a,{style:{marginTop:10},textAlign:"center",children:Object(n.jsx)(ft.a,{value:f,onChange:function(e,t){y(t)}})}),Object(n.jsx)(q.a,{style:{letterSpacing:2,marginTop:5},children:"FEEDBACK"}),Object(n.jsx)(J.a,{style:{marginTop:10},children:Object(n.jsx)(K.a,{variant:"outlined",placeholder:"Feedback",onChange:function(e){D(e.target.value)},fullWidth:!0})})]}),Object(n.jsxs)(gt.a,{children:[Object(n.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){S()},children:"Exit"}),Object(n.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(){var e={feedback:C,stars:f,Name:a[0].CustomerName,RestaurantID:a[0].RestaurantID};p.a.post("/api/feedback/",e,{headers:{"Content-Type":"application/json"}}).then((function(e){S()})).catch((function(e){console.log(e),S()}))},children:"Submit Review and Exit"})]})]})]})]})}));var Nt=Object(Z.b)((function(e){return{auth:e.auth}}),{login:V})((function(e){return e.auth.isAuthenticated?Object(n.jsx)(l.a,{to:"/restaurant"}):(function(){var t=e.location.search.toString();if(void 0!==t.split("&")[0].split("=")[1]){var a={id:t.split("&")[0].split("=")[1],table:t.split("&")[1].split("=")[1]};e.login(a)}}(),Object(n.jsx)(J.a,{children:Object(n.jsxs)(J.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{marginTop:"20%"},children:[Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{height:80,width:100}}),Object(n.jsx)($.a,{color:"primary",style:{width:120,marginTop:10}})]})}))})),Ct=a(113),Dt=a.n(Ct),St=a(86),Tt=a.n(St),At=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},rName:{width:100,height:100,backgroundColor:"#FFD31D",fontSize:50,color:"#000"}}}));var Ft=Object(Z.b)((function(e){return{token:e.token}}),{})((function(e){var t=At();return Object(n.jsxs)(J.a,{children:[Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:t.title,children:"Serve My Table"})]})}),Object(n.jsxs)(J.a,{marginLeft:5,marginRight:5,marginTop:5,children:[Object(n.jsx)(J.a,{display:"flex",justifyContent:"center",alignSelf:"center",children:e.token.Restaurant.RestaurantImage?Object(n.jsx)(_.a,{src:e.token.Restaurant.RestaurantImage,variant:"circle",style:{width:50}}):Object(n.jsx)(_.a,{className:t.rName,children:e.token.Restaurant.UserName[0]})}),Object(n.jsx)(J.a,{textAlign:"center",marginTop:3,children:Object(n.jsx)(q.a,{variant:"h6",component:"h6",children:e.token.Restaurant.RestaurantName})}),Object(n.jsx)(ie.a,{style:{marginTop:10}}),Object(n.jsxs)(J.a,{textAlign:"center",marginTop:3,children:[Object(n.jsxs)(q.a,{variant:"h6",component:"h6",children:["Token No. ",e.token.tokenNo]}),Object(n.jsx)(q.a,{variant:"h6",component:"h6",children:e.CustomerName}),Object(n.jsxs)(q.a,{variant:"h6",component:"h6",children:["No. of Person: ",e.NoOfPeople]})]}),Object(n.jsxs)(J.a,{marginTop:3,textAlign:"center",display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(n.jsxs)(J.a,{textAlign:"center",children:[Object(n.jsx)(Tt.a,{style:{width:50,height:50,color:"#05f29b"}}),Object(n.jsx)(q.a,{children:"Token Booked"})]}),Object(n.jsxs)(J.a,{textAlign:"center",marginLeft:3,children:["Called"===e.token.Status?Object(n.jsx)(Tt.a,{style:{width:50,height:50,color:"#05f29b"}}):Object(n.jsx)(Dt.a,{style:{width:50,height:50}}),Object(n.jsx)(q.a,{children:"Restaurant Called You"})]})]})]})]})})),kt=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},TokenHeadingBox:{marginTop:30,marginLeft:10,marginBottom:30},Form:{marginLeft:10,marginRight:10,marginTop:10},Table:{margin:10},TableRow:{textAlign:"center",fontFamily:"Noto Sans, sans-serif",verticalAlign:"center"},BookedBox:{background:"#9ede73",padding:5,border:"1px solid #9ede73",borderRadius:"5px",fontFamily:"Noto Sans, sans-serif",textAlign:"center"},CalledBox:{background:"#FFD31D",padding:5,border:"1px solid #FFD31D",borderRadius:"5px",fontFamily:"Noto Sans, sans-serif",textAlign:"center"}}}));var wt=Object(Z.b)((function(e){return{token:e.token,errorHandler:e.errorHandler,tokenList:e.tokenList}}),{createToken:function(e){var t=e.Phone,a=e.CustomerName,n=e.NoOfPersons;return function(){var e=Object(x.a)(m.a.mark((function e(r){var s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.stringify({Phone:t,CustomerName:a,NoOfPersons:n}),c={headers:{"Content-Type":"application/json"}},e.next=5,p.a.post("/api/token",s,c);case 5:"User does not exists"===(i=e.sent).data?r(z("error","Invalid Restaurant Phone No",!0)):null!==i.data||void 0!==i.data?r({type:E,payload:{tokenNo:i.data.tokenNo,Status:"Booked",Restaurant:i.data.Restaurant,TokenDetails:i.data.TokenDetails}}):r(z("error","Unable to create token.",!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},getWaitingList:function(e){var t=e.Phone;return function(){var e=Object(x.a)(m.a.mark((function e(a){var n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({Phone:t}),e.next=5,p.a.post("/api/token/waiting",r,n);case 5:"User does not exists"===(s=e.sent).data?a(z("error","Invalid Restaurant Phone No.",!0)):s.data===[]?a(z("error","There is no waiting",!0)):a({type:I,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=kt(),a=s.a.useState(!1),r=Object(j.a)(a,2),c=r[0],i=r[1],o=s.a.useState({CustomerName:null,PhoneNo:null,NoOfPeople:null}),l=Object(j.a)(o,2),d=l[0],b=l[1],h=s.a.useState({PhoneNo:null}),m=Object(j.a)(h,2),x=m[0],O=m[1];function p(){return Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:t.title,children:"Serve My Table"})]})})}function g(){return s.a.useEffect((function(){setTimeout((function(){e.getWaitingList({Phone:x.PhoneNo})}),5e3)}),[]),Object(n.jsxs)(J.a,{children:[Object(n.jsx)(p,{}),Object(n.jsx)(J.a,{className:t.TokenHeadingBox,children:Object(n.jsx)(q.a,{className:"logoFont",variant:"h4",component:"h6",children:"Waiting List"})}),Object(n.jsx)(J.a,{className:t.Table,children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",className:"logoFont",style:{textAlign:"center"},children:"#"}),Object(n.jsx)("th",{scope:"col",className:"logoFont",style:{textAlign:"center"},children:"Token No"}),Object(n.jsx)("th",{scope:"col",className:"logoFont",style:{textAlign:"center"},children:"Name"}),Object(n.jsx)("th",{scope:"col",className:"logoFont",style:{textAlign:"center"},children:"No of Members"}),Object(n.jsx)("th",{scope:"col",className:"logoFont",style:{textAlign:"center"},children:"Status"})]})}),Object(n.jsx)("tbody",{children:e.tokenList.map((function(e,a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",className:t.TableRow,children:a+1}),Object(n.jsx)("td",{className:t.TableRow,children:e.tokenNo}),Object(n.jsx)("td",{className:t.TableRow,children:e.Name}),Object(n.jsx)("td",{className:t.TableRow,children:e.NoOfPersons}),Object(n.jsx)("td",{children:Object(n.jsx)(J.a,{className:"Booked"===e.Status?t.BookedBox:t.CalledBox,children:e.Status})})]})}))})]})})]})}return s.a.useEffect((function(){!function(){var t=e.location.search;void 0!==t.split("=")[1]&&(b(Object(u.a)(Object(u.a)({},d),{},{PhoneNo:t.split("=")[1]})),i(!0))}()}),[]),e.tokenList.length>0?Object(n.jsx)(g,{}):null!==e.token.tokenNo&&null!==e.token.TokenDetails?Object(n.jsx)(Ft,{RestaurantID:e.token.Restaurant.Phone,CustomerName:e.token.TokenDetails.CustomerName,NoOfPeople:e.token.TokenDetails.NoOfPeople,tNo:e.token.tokenNo}):Object(n.jsxs)(J.a,{children:[Object(n.jsx)(p,{}),e.errorHandler.errorStatus&&Object(n.jsx)(X.a,{severity:e.errorHandler.errorType,children:e.errorHandler.errorMsg}),Object(n.jsxs)(J.a,{className:t.TokenHeadingBox,children:[Object(n.jsx)(q.a,{className:"logoFont",variant:"h4",component:"h6",children:"Token"}),Object(n.jsx)(q.a,{className:"mFont",variant:"h6",component:"h6",color:"textSecondary",children:"Now no need to wait in line."})]}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.createToken({Phone:d.PhoneNo,CustomerName:d.CustomerName,NoOfPersons:d.NoOfPeople})},className:t.Form,children:[Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"CustomerName",type:"text",placeholder:"Enter your Name ",onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{CustomerName:e.target.value}))},value:d.CustomerName,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"RestaurantID",type:"text",placeholder:"Enter Restaurant Phone No.",onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{PhoneNo:e.target.value}))},value:d.PhoneNo,disabled:c,style:{marginTop:10},required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"NoOfPeople",type:"number",placeholder:"Enter no. of people",onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{NoOfPeople:e.target.value}))},value:d.NoOfPeople,style:{marginTop:10},required:!0,fullWidth:!0}),Object(n.jsx)(Y.a,{className:"mFont",type:"submit",variant:"contained",color:"primary",style:{marginTop:10},fullWidth:!0,children:"Get Token"})]}),Object(n.jsxs)(J.a,{className:t.TokenHeadingBox,children:[Object(n.jsx)(q.a,{className:"logoFont",variant:"h4",component:"h6",children:"Waiting List"}),Object(n.jsxs)("form",{className:t.Form,onSubmit:function(t){t.preventDefault(),e.getWaitingList({Phone:x.PhoneNo})},children:[Object(n.jsx)(K.a,{variant:"outlined",className:"loginInput mFont",name:"RestaurantID",type:"tel",placeholder:"Enter Restaurant Phone No.",onChange:function(e){return O(Object(u.a)(Object(u.a)({},x),{},{PhoneNo:e.target.value}))},value:x.PhoneNo,style:{marginTop:10},required:!0,fullWidth:!0}),Object(n.jsx)(Y.a,{className:"mFont",type:"submit",variant:"outlined",color:"primary",style:{marginTop:10},fullWidth:!0,children:"Check Waiting List"})]})]})]})})),Rt=function(e){return function(t){t({type:T,payload:e})}},Pt=function(e){var t=e.Details;return function(){var e=Object(x.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a({type:G,payload:t})}catch(n){a({type:M})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Bt=a(114),Et=a.n(Bt),It=Object(Ee.a)((function(e){return{orderSummaryBtn:{position:"fixed",bottom:0,boxShadow:"3px 0 6px rgba(0,0,0,16%)",padding:10,backgroundColor:"#FFD31D"},mDivider:{height:5,width:30,marginTop:10,marginBottom:10,backgroundColor:"#FFD31D"},mGrid:{paddingLeft:10,paddingTop:10,paddingBottom:10,backgroundColor:"#FFD31D"},orderGrid:{paddingLeft:10,paddingTop:10,paddingBottom:10},bgPrimary:{backgroundColor:"#FFD31D",fontSize:18,marginTop:20,boxShadow:"0px 3px 6px rgba(0,0,0,0.16)"},OrderSummaryDetailsScreen:{position:"fixed",top:0,height:"100%",backgroundColor:"white",width:"100%",overflow:"hidden",overflowY:"hidden"},finalPageLink:{position:"fixed",bottom:50,paddingTop:5,paddingBottom:5,paddingLeft:10,paddingRight:10,backgroundColor:"rgb(255,255,255)",width:"100%",boxShadow:"3px 0px 6px rgba(0,0,0,16%)"}}}));var Lt=Object(Z.b)((function(e){return{parcel:e.parcel}}),{placeOrder:function(e){var t=e.Dish,a=e.CustomerName,n=e.TableNo,r=e.TotalBill,s=e.notes,c=e.id,i=e.SubTotal,o=e.PaymentMode,l=e.CustomerAddress,d=e.OrderType,u=e.CustomerPhone;return function(){var e=Object(x.a)(m.a.mark((function e(j){var b,h,x;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b={headers:{"Content-Type":"application/json"}},h=JSON.stringify({Dish:t,CustomerName:a,TableNo:n,TotalBill:r,notes:s,id:c,SubTotal:i,PaymentMode:o,CustomerAddress:l,OrderType:d,CustomerPhone:u}),e.next=5,p.a.post("/api/parcel/placeOrder",h,b);case 5:x=e.sent,j(H()),j(z("success","Order Placed Successfully",!0)),j({type:W,payload:x.data}),j(Rt(!0)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),j(H()),j(z("error","Unable to Place Order",!0)),j({type:M});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.cart,a=e.parcel,r=e.placeOrder,c=It(),i=s.a.useState(!1),o=Object(j.a)(i,2),l=o[0],d=o[1];function u(){for(var e=0,a=0;a<t.length;a++)e+=t[a].price*t[a].units;return e}function b(){var e=a.RestaurantDetails.Taxes;if(e.length>0){for(var t=0,n=u(),r=0;r<e.length;r++)"Percentage"===e[r].TaxType&&(t+=n*Number.parseFloat(e[r].Amount)/100),"Fixed"===e[r].TaxType&&(t+=Number.parseFloat(e[r].Amount));return t}return 0}function h(){var e={Dish:t,CustomerName:null!==a.CustomerDetails.CustomerName&&void 0!==a.CustomerDetails.CustomerName?a.CustomerDetails.CustomerName:"",TableNo:0,TotalBill:u()+b(),notes:"",id:a.CustomerDetails.RestaurantID,SubTotal:u(),PaymentMode:"Cash",CustomerAddress:a.CustomerDetails.DeliveryAddress,OrderType:a.CustomerDetails.OrderType,CustomerPhone:a.CustomerDetails.CustomerPhone};r(e)}return Object(n.jsx)(J.a,{children:l?Object(n.jsxs)(J.a,{className:c.OrderSummaryDetailsScreen,children:[Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"white"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",onClick:function(){return d(!1)},children:Object(n.jsx)(Et.a,{style:{color:"black"}})}),Object(n.jsx)(q.a,{variant:"h6",style:{color:"black"},children:"Order Summary"})]})}),Object(n.jsxs)(J.a,{style:{marginTop:5},children:[Object(n.jsxs)(fe.a,{container:!0,className:c.mGrid,children:[Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:"Dish Name"}),Object(n.jsx)(fe.a,{item:!0,sm:2,xs:2,className:"mFont",children:"Qty."}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:"Price"})]}),Object(n.jsx)("br",{}),t.map((function(e){return 0!==e.units?Object(n.jsxs)(fe.a,{container:!0,className:c.orderGrid,children:[Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:e.name}),Object(n.jsxs)(fe.a,{item:!0,sm:2,xs:2,className:"mFont",children:["x",e.units]}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,className:"mFont",children:e.units*e.price})]}):Object(n.jsx)("div",{})})),Object(n.jsx)(ie.a,{}),Object(n.jsxs)(J.a,{className:c.orderGrid,children:[Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Sub Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:u()})})]}),Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Taxes & Charges"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:b()})})]}),Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:3,xs:3}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{className:"mFont",children:"Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:5,xs:5,children:Object(n.jsx)(q.a,{className:"mFont",children:Object(n.jsxs)("strong",{children:[" ",u()+b()," "]})})})]})]}),u()>0&&Object(n.jsx)(J.a,{children:Object(n.jsx)(Y.a,{onClick:h,className:c.bgPrimary,fullWidth:!0,children:"Place Order"})})]})]}):Object(n.jsx)(J.a,{children:Object(n.jsx)(Y.a,{className:c.orderSummaryBtn,onClick:function(){return d(!0)},fullWidth:!0,disabled:!(t.length>0),children:Object(n.jsx)(Re.a,{badgeContent:t.length,color:"secondary",children:Object(n.jsx)(q.a,{variant:"h6",children:"Order Summary"})})})})})}));var Mt=Object(Z.b)((function(e){return{Dishes:e.parcel.RestaurantDetails.Dishes,Categories:e.parcel.RestaurantDetails.Categories}}),{})((function(e){var t=e.Dishes,a=e.Categories,r=e.search,c=e.filteredCategories,i=s.a.useState([]),o=Object(j.a)(i,2),l=o[0],d=o[1];function u(e){if(l.length<=0)d([e]);else{for(var t=0,a=0;a<l.length;a++)if(t++,l[a].name===e.name){l[a].units=e.units,d(Object(Oe.a)(l)),t=0;break}t===l.length&&d([].concat(Object(Oe.a)(l),[e]))}}function b(){if(!(c.length<=0))return c;if(""!==r){for(var e=[],n=0;n<t.length;n++)t[n].DishName.indexOf(r)>-1&&e.push(t[n].Category);return e.filter((function(t,a){return e.indexOf(t)===a}))}return null!==a&&void 0!==a?a.filter((function(e,t){return a.indexOf(e)===t})):void 0}function h(e){for(var a=[],s=0;s<t.length;s++)t[s].Category===e&&t[s].DishName.indexOf(r)>-1&&a.push(Object(n.jsx)(J.a,{style:{marginLeft:20},children:Object(n.jsx)(we,{name:t[s].DishName,price:t[s].Price,tags:t[s].tags,desc:t[s].Description,handleAddFunc:u,id:s,cart:l})}));return a}return b().length<=0?Object(n.jsx)(J.a,{style:{textAlign:"center"},children:Object(n.jsx)(q.a,{children:"No Dish Available"})}):Object(n.jsxs)(J.a,{children:[b().map((function(e){return Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(ge.a,{expandIcon:Object(n.jsx)(Ue.a,{}),children:Object(n.jsx)(q.a,{children:e})}),h(e)]})})),Object(n.jsx)(J.a,{children:Object(n.jsx)(Lt,{cart:function(){for(var e=[],t=0;t<l.length;t++)0!==l[t].units&&e.push(l[t]);return e}()})})]})})),Gt=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},container:{padding:20},bottomBox:{boxShadow:"0px 3px 6px rgba(0,0,0,16%)",padding:10,marginTop:10},TotalBox:{padding:10,marginTop:20,backgroundColor:"#FFD31D",boxShadow:"0px 3px 6px #FFD31D16",marginBottom:10,border:"1px solid #FFD31D",borderRadius:5},orderTitle:{padding:10,marginTop:20,backgroundColor:"#FFD31D16",marginBottom:10,border:"1px solid #FFD31D",borderRadius:5}}}));var Wt=Object(Z.b)((function(e){return{parcel:e.parcel}}),{})((function(e){var t=e.parcel,a=Gt(),r=function(){return Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:a.title,children:"Serve My Table"})]})})};function s(){return t.OrderDetails.SubTotal}return Object(n.jsxs)(J.a,{children:[Object(n.jsx)(r,{}),Object(n.jsxs)(J.a,{className:a.container,children:[Object(n.jsxs)(J.a,{children:[Object(n.jsx)(q.a,{variant:"h6",children:"Hello!"}),Object(n.jsx)(q.a,{variant:"h6",style:{marginTop:20},children:t.CustomerDetails.CustomerName}),Object(n.jsx)(q.a,{color:"textSecondary",children:t.CustomerDetails.OrderType}),Object(n.jsxs)(q.a,{color:"textSecondary",children:["Order Id : ",t.OrderDetails.OrderId]})]}),Object(n.jsx)(J.a,{className:a.orderTitle,children:Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:8,xs:8,children:Object(n.jsx)(q.a,{children:"Particulars"})}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(q.a,{style:{textAlign:"right"},children:"Amount"})})]})}),Object(n.jsx)(J.a,{className:a.bottomBox,children:t.OrderDetails.Orders.map((function(e){return Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsxs)(fe.a,{item:!0,sm:8,xs:8,children:[Object(n.jsx)(q.a,{children:e.DishName}),Object(n.jsxs)(q.a,{color:"textSecondary",children:[e.Quantity," x ",e.Rate]})]}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(J.a,{textAlign:"right",children:Object(n.jsx)(q.a,{children:parseFloat(e.Quantity)*parseFloat(e.Rate)})})})]})}))}),Object(n.jsx)(J.a,{className:a.bottomBox,style:{marginTop:10},children:Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsxs)(fe.a,{item:!0,sm:8,xs:8,children:[Object(n.jsx)(q.a,{children:"Sub Total"}),Object(n.jsx)(q.a,{children:"Taxes & Charges"})]}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsxs)(J.a,{textAlign:"right",children:[Object(n.jsx)(q.a,{children:s()}),Object(n.jsx)(q.a,{children:function(){var e=t.RestaurantDetails.Taxes;if(e.length>0){for(var a=0,n=s(),r=0;r<e.length;r++)"Percentage"===e[r].TaxType&&(a+=n*Number.parseFloat(e[r].Amount)/100),"Fixed"===e[r].TaxType&&(a+=Number.parseFloat(e[r].Amount));return a}return 0}()})]})})]})}),Object(n.jsx)(J.a,{className:a.TotalBox,children:Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,sm:8,xs:8,children:Object(n.jsx)(q.a,{children:"Total"})}),Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:Object(n.jsx)(J.a,{textAlign:"right",children:Object(n.jsxs)(q.a,{children:["Rs ",Object(n.jsxs)("strong",{children:[" ",t.OrderDetails.TotalBill," "]})]})})})]})}),""!==t.CustomerDetails.DeliveryAddress&&Object(n.jsxs)(J.a,{className:a.bottomBox,style:{marginTop:10},children:[Object(n.jsx)(q.a,{children:"Delivery Address"}),Object(n.jsx)(q.a,{color:"textSecondary",style:{marginTop:10,marginBottom:10},children:t.CustomerDetails.DeliveryAddress})]})]})]})})),Ut=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},NameAvatar:{width:100,height:100,fontSize:50,backgroundColor:"#FFD31D"}}}));var Qt=Object(Z.b)((function(e){return{parcel:e.parcel,orderPlaced:e.orderPlaced}}),{setCustomerDetails:Pt,setRestaurantDetails:function(e){var t=e.Phone;return function(){var e=Object(x.a)(m.a.mark((function e(a){var n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({Phone:t}),r={headers:{"Content-Type":"application/json"}},e.next=5,p.a.post("/api/parcel/restaurant",n,r);case 5:s=e.sent,a({type:L,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:M});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Ut(),a=s.a.useState(""),r=Object(j.a)(a,2),c=r[0],i=r[1];s.a.useEffect((function(){e.setCustomerDetails({Details:e.details})}),[]),e.setRestaurantDetails({Phone:e.details.RestaurantID});var o=function(){return Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:t.title,children:"Serve My Table"}),Object(n.jsx)(Y.a,{variant:"outlined",startIcon:Object(n.jsx)(xe.a,{}),"aria-controls":"simple-menu","aria-haspopup":"true",onClick:f,children:"Filter"})]})})},l=s.a.useState(null),b=Object(j.a)(l,2),h=b[0],m=b[1],x=s.a.useState({}),O=Object(j.a)(x,2),p=O[0],g=O[1],f=function(e){m(e.currentTarget)},y=function(e){g(Object(u.a)(Object(u.a)({},p),{},Object(d.a)({},e.target.name,e.target.checked)))};return e.orderPlaced||null!==e.parcel.OrderDetails?Object(n.jsx)(Wt,{}):Object(n.jsxs)(J.a,{children:[Object(n.jsx)(o,{}),Object(n.jsx)(ce.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){m(null)},children:Object(n.jsxs)(J.a,{style:{margin:10,padding:10},children:[Object(n.jsx)(q.a,{children:"Categories"}),Object(n.jsx)(ie.a,{}),function(){if(null===e.parcel.RestaurantDetails)return[];var t=e.parcel.RestaurantDetails.Categories;return t&&null!==t&&void 0!==t?t.filter((function(e,a){return t.indexOf(e)===a})):void 0}().map((function(e){return Object(n.jsx)(oe.a,{control:Object(n.jsx)(le.a,{onChange:y,name:e,color:"primary"}),label:e})}))]})}),Object(n.jsxs)(J.a,{padding:"20px",children:[Object(n.jsxs)(fe.a,{container:!0,style:{marginBottom:20},children:[Object(n.jsx)(fe.a,{item:!0,sm:4,xs:4,children:e.parcel.RestaurantDetails&&null!==e.parcel.RestaurantDetails&&e.parcel.RestaurantDetails.ImageUrl&&null!==e.parcel.RestaurantDetails.ImageUrl&&void 0!==e.parcel.RestaurantDetails.ImageUrl?Object(n.jsx)(_.a,{src:e.parcel.RestaurantDetails.ImageUrl,style:{width:100,height:100}}):Object(n.jsx)(_.a,{className:t.NameAvatar,children:e.parcel.RestaurantDetails.username&&e.parcel.RestaurantDetails.username[0]})}),Object(n.jsxs)(fe.a,{item:!0,sm:8,xs:8,children:[Object(n.jsx)(q.a,{variant:"h6",children:e.parcel.RestaurantDetails&&e.parcel.RestaurantDetails.RestaurantName}),Object(n.jsx)(q.a,{color:"textSecondary",children:e.parcel.RestaurantDetails&&e.parcel.RestaurantDetails.Location}),Object(n.jsx)(q.a,{color:"textSecondary"})]})]}),Object(n.jsx)(he,{type:"text",placeholder:"Search in Menu",className:"customSearch",onChange:function(e){i(e.target.value)}}),Object(n.jsx)(J.a,{style:{marginTop:20}})]}),Object(n.jsx)(Mt,{search:c,filteredCategories:function(){var e=[];for(var t in p)p[t]&&e.push(t);return e}()})]})})),Ht=Object(Ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1,color:"black"},HeadingBox:{marginTop:30,marginLeft:10,marginBottom:30},SelectedBtn:{padding:10,textAlign:"center",fontFamily:"Noto Sans",backgroundColor:"#FFD31D",border:"1px solid #FFD31D",width:150},NotSelectedBtn:{padding:10,textAlign:"center",fontFamily:"Noto Sans",backgroundColor:"#FFF",border:"1px solid #FFD31D",width:150},Form:{marginLeft:10,marginRight:10,marginTop:10},Btn:{marginTop:10,padding:10,textAlign:"center"}}}));var zt=Object(Z.b)((function(e){return{errorHandler:e.errorHandler,parcel:e.parcel}}),{setCustomerDetails:Pt,setAlert:z})((function(e){var t=Ht(),a=s.a.useState(!0),r=Object(j.a)(a,2),c=r[0],i=r[1],o=function(){i(!c)},l=s.a.useState(null),d=Object(j.a)(l,2),b=d[0],h=d[1],O=s.a.useState(!1),g=Object(j.a)(O,2),f=g[0],y=g[1];function v(e){return N.apply(this,arguments)}function N(){return(N=Object(x.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(a.RestaurantID);case 3:t.sent?(h(a),e.setCustomerDetails({Details:a}),y(!0)):e.setAlert("error","Invalid Restaurant Phone Number",!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setAlert("error","Some Error Occured",!0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function C(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(m.a.mark((function t(a){var n,r,s,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.stringify({RestaurantID:a}),s={headers:{"content-type":"application/json"}},t.next=5,p.a.post("/api/parcel/valid",r,s);case 5:c=t.sent,n=c.data,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e.setAlert("error","Some Error Occured",!0),n=!1;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function S(){var a=s.a.useState({Name:null,Phone:null,CustomerPhone:null}),r=Object(j.a)(a,2),c=r[0],i=r[1],o=s.a.useState(!1),l=Object(j.a)(o,2),d=l[0],b=l[1];return s.a.useEffect((function(){!function(){var t=e.location.search;void 0!==t.split("=")[1]&&(i(Object(u.a)(Object(u.a)({},c),{},{Phone:t.split("=")[1]})),b(!0))}()}),[]),Object(n.jsxs)("form",{className:t.Form,onSubmit:function(e){e.preventDefault(),v({CustomerName:c.Name,RestaurantID:c.Phone,DeliveryAddress:"",OrderType:"Takeaway",CustomerPhone:c.CustomerPhone})},children:[Object(n.jsx)(K.a,{className:"loginInput mFont",type:"text",placeholder:"Enter your Name",variant:"outlined",style:{marginTop:10},onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{Name:e.target.value}))},value:c.Name,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{className:"loginInput mFont",type:"number",placeholder:"Enter Restaurant No.",variant:"outlined",style:{marginTop:10},onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{Phone:e.target.value}))},value:c.Phone,disabled:d,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{className:"loginInput mFont",type:"number",placeholder:"Enter Contact No.",variant:"outlined",style:{marginTop:10},onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{CustomerPhone:e.target.value}))},value:c.CustomerPhone,required:!0,fullWidth:!0}),Object(n.jsx)(Y.a,{type:"submit",variant:"contained",color:"primary",className:t.Btn,fullWidth:!0,children:"Proceed"})]})}function T(){var a=s.a.useState({Name:null,Phone:null,CustomerPhone:null}),r=Object(j.a)(a,2),c=r[0],i=r[1],o=s.a.useState(null),l=Object(j.a)(o,2),d=l[0],b=l[1],h=s.a.useState(!1),m=Object(j.a)(h,2),x=m[0],O=m[1];return s.a.useEffect((function(){!function(){var t=e.location.search;void 0!==t.split("=")[1]&&(i(Object(u.a)(Object(u.a)({},c),{},{Phone:t.split("=")[1]})),O(!0))}()}),[]),Object(n.jsxs)("form",{className:t.Form,onSubmit:function(e){e.preventDefault(),v({CustomerName:c.Name,RestaurantID:c.Phone,DeliveryAddress:d,OrderType:"Delivery",CustomerPhone:c.CustomerPhone})},children:[Object(n.jsx)(K.a,{className:"loginInput mFont",type:"text",placeholder:"Enter your Name",variant:"outlined",style:{marginTop:10},onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{Name:e.target.value}))},value:c.Name,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{className:"loginInput mFont",type:"number",placeholder:"Enter Restaurant No.",variant:"outlined",style:{marginTop:10},disabled:x,onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{Phone:e.target.value}))},value:c.Phone,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{className:"loginInput mFont",type:"number",placeholder:"Enter Contact No.",variant:"outlined",style:{marginTop:10},onChange:function(e){return i(Object(u.a)(Object(u.a)({},c),{},{CustomerPhone:e.target.value}))},value:c.CustomerPhone,required:!0,fullWidth:!0}),Object(n.jsx)(K.a,{className:"loginInput mFont",type:"text",variant:"outlined",style:{marginTop:10},placeholder:"Address",onChange:function(e){return b(e.target.value)},value:d,required:!0,fullWidth:!0}),Object(n.jsx)(Y.a,{type:"submit",variant:"contained",color:"primary",className:t.Btn,fullWidth:!0,children:"Proceed"})]})}var A=function(){return Object(n.jsx)(ne.a,{position:"static",style:{backgroundColor:"#FFF"},children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(se.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(n.jsx)(_.a,{src:ee,variant:"rounded",style:{width:50}})}),Object(n.jsx)(q.a,{variant:"h6",className:t.title,children:"Serve My Table"})]})})};return null!==e.parcel.CustomerDetails?Object(n.jsx)(Qt,{details:e.parcel.CustomerDetails}):f?Object(n.jsx)(Qt,{details:b}):Object(n.jsxs)(J.a,{children:[Object(n.jsx)(A,{}),e.errorHandler.errorStatus&&Object(n.jsx)(X.a,{severity:e.errorHandler.errorType,children:e.errorHandler.errorMsg}),Object(n.jsxs)(J.a,{className:t.HeadingBox,children:[Object(n.jsx)(q.a,{className:"logoFont",variant:"h4",component:"h6",children:"Delivery or Takeaway"}),Object(n.jsx)(q.a,{className:"mFont",variant:"h6",component:"h6",color:"textSecondary",children:"Get Fast delivery. Don't wait in Line for ordering"})]}),Object(n.jsxs)(J.a,{display:"flex",flexDirection:"row",marginLeft:"10px",marginRight:"10px",children:[Object(n.jsx)(Y.a,{onClick:o,className:c?t.SelectedBtn:t.NotSelectedBtn,children:"Takeaway"}),Object(n.jsx)(Y.a,{onClick:o,className:c?t.NotSelectedBtn:t.SelectedBtn,children:"Delivery"})]}),c?Object(n.jsx)(S,{}):Object(n.jsx)(T,{})]})}));localStorage.token&&U(localStorage.token);var Vt=Object(jt.a)({typography:{fontFamily:'"Noto Sans", "Roboto", "Arial", sans-serif',fontSize:14,fontWeightRegular:400,fontWeightBold:700}});var Zt=function(){return s.a.useEffect((function(){ut.dispatch(function(){var e=Object(x.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&U(localStorage.token),e.prev=1,e.next=4,p.a.get("/api/auth");case 4:a=e.sent,n=a.data,t({type:v,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:g});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.jsx)(bt.a,{theme:Vt,children:Object(n.jsx)(Z.a,{store:ut,children:Object(n.jsx)(o.a,{children:Object(n.jsx)("section",{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:ae}),Object(n.jsx)(l.b,{exact:!0,path:"/check",component:Nt}),Object(n.jsx)(l.b,{exact:!0,path:"/token",component:wt}),Object(n.jsx)(l.b,{exact:!0,path:"/takeaway",component:zt}),Object(n.jsx)(mt,{exact:!0,path:"/restaurant",component:ze}),Object(n.jsx)(mt,{exact:!0,path:"/Checkout",component:vt})]})})})})})};i.a.render(Object(n.jsx)(Zt,{}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.af508bf9.chunk.js.map